### ✍️ Tangxt ⏳ 2020-11-18 🏷️ DOM

# 第二章 认识 DOM

## ★认识 DOM

1）DOM

DOM，即文档对象模型，它是**针对 XML 、经过扩展用于 HTML 的应用程序编程接口**，也被大众称之为「API」。

DOM 把整个页面**映射**为一个多层的节点结构。HTML 或者是 XML，页面中的每个组成部分都是某种类型的节点，而这些节点又包含着不同类型的数据

![你如何看 HTML 源码](assets/img/2020-11-18-19-27-14.png)

> 当你想操作 DOM，那么你的脑海中，就得有一份 DOM 树图！而不是直接的 HTML 源码！

2）为什么要使用 DOM？

如果你接触前端比较早，那么你也许听说过 DHTML（可简单理解为 HTML+CSS+JavaScript+DOM 的组合）-> 这玩意儿可以实现页面的动态的交互开发

![制定 DOM 标准的缘由](assets/img/2020-11-18-19-52-25.png)

> 卧槽，原来我们用 JS 操作 DOM，不用刷新页面，就能让页面发生变化，是来自于 DHTML 这项技术呀！

为啥要制定标准？

因为如果不制定标准，那么这就不利于 Web 技术的发展了 -> 开发者要骂「操」了！还能不能摸鱼了？

3）DOM 级别

DOM 发展至今，已经有好几个版本了！每个时期都会有一个版本，而这个版本用「x」级来表示！

![DOM 级别](assets/img/2020-11-18-20-02-29.png)

1、DOM1 级

1998 年 10 月成为 w3c 的推荐标准，它由两个模块组成：

1. DOM Core：规定了如何映射基于 xml 的文档结构，以便简化对文档中任何部分的访问和操作
2. DOM HTML：在 DOM Core 的基础上加以扩展，添加了针对 HTML 的对象和方法

其实，DOM 并不是针对 JS 的，很多别的语言也都实现了 DOM，不过，在浏览器中，基于 ECMAScript 实现的 DOM 的确已经成为 JS 这门语言的一个重要组成部分！

如果说 DOM1 级的目标主要是映射文档的结构，那么 DOM2 级的目标就要宽泛多了！

2、DOM2 级

它由 4 块东西组成：

1. DOM Views：DOM 视图，它定义了跟踪不同文档视图的接口，比如跟踪应用 CSS 之前和应用 CSS 之后的文档视图
2. DOM Events：DOM 事件，定义了事件和事件处理的接口
3. DOM Style：定义了基于 CSS 为元素应用样式的接口
4. DOM Traversal and Range: DOM 遍历和范围，它定义了遍历和操作文档树的接口

3、DOM3 级

这一级，则进一步扩展了 DOM

1. DOM Load And Save：引用了以统一方式加载和保存文档的方法
2. DOM Validation：新增了验证文档的方法

---

我们在阅读 DOM 标准的时候，我们经常会看到 DOM0 级，即「**DOM level zero**」这样的字眼，实际上，**DOM0 级这个标准是不存在的**

所谓 DOM0 级，只是 DOM 历史坐标系中的一个参照点而已，具体来说，**DOM0 级就是指 IE4.0 和 N4.0 最初支持的那个 DHTML**

> DOM0 级说白了就是混沌时期各大浏览器自有的 DOM 标准

4）Web 浏览器对 DOM 的支持

在 DOM 标准出现了一段时间之后，Web 浏览器才开始实现它！

![DOM 支持](assets/img/2020-11-18-23-15-15.png)

微软在 IE5 中首次尝试实现 DOM，但直到 IE5.5 才算是真正的支持 DOM1 级，在随后的 IE6、7 中，微软都没有引入新的 DOM 功能，而到了 IE8 才对以前 DOM 实现中的 bug，进行了修复

目前，支持 DOM，已经成为浏览器开发商的首要目标

主流浏览器每次发布的时候，这个新版本都会改进对 DOM 的支持

5）小结

从以下这四个方面：

1. 什么是 DOM？
2. 为什么要使用 DOM？
3. DOM 级别
4. 浏览器对 DOM 的支持

对 DOM 做了一个基本的介绍！

## ★DOM 文档类型

我们知道文档对象模型是从文档中抽象出来的，**而 DOM 操作的对象也是文档**！

因此，我们有必要了解一下**文档的类型**。

文档随着历史的发展，演变为多种类型。

话说，有哪些类型呢？

1）文档的类型

回顾历史来看：

![文档的类型](assets/img/2020-11-19-11-48-47.png)

1. GML：20 世纪 60 年代，IBM 研发了一种格式化文档语言——GML（通用标记语言），该语言根据文档的组织结构和内容部分以及它们之间的关系来描述文档。如 GML 标记（h 标签）可以描述章节的主要部分、次要部分等等
2. SGML：1985 年，国际标准化组织 ISO 对 GML 进行了整理规范，开发出了标准通用标记语言（SGML），但是 SGML 是一种非常严谨的文本描述法，过于庞大复杂，让人难以理解，于是就有了 HTML
3. HTML：1993 年 6 月，互联网工程工作小组（IETF）发布了 HTML 这个草案，HTML 标准由 w3c 来进行维护，而经过应用，w3c 发现了 HTML 的诸多问题，如不能解释如类似于影音文件、化学公式等其它形式的内容，并且性能比较差，**不易于扩展**，弹性差等问题
4. XML：于是，专家们使用 SGML 简易制作并依照 HTML 的发展经验开发了可扩展的标记语言——XML，由于 XML 的**高扩展性**，为了用来**描述矢量图形**的标记语言，VML、SVG 和其它的一些标记语言也陆续诞生了……

由此可见，不同的标签语言，是因为专注的领域的不同，我们针对不同的领域使用更专业的工具，这是人之常情

- XML 被设计是用来描述数据的，重点是「什么是数据」「如何存放数据」
- SGML 被设计是用来显示数据的，重点是「显示数据」「如何更好地显示数据」
- ……

早期 IE 中的 HTML，可以混合 XML，称之为「XML 数据岛」，可以看到，XML 是与存放数据息息相关的！

> 在 HTML 文档中使用`<XML></XML>`标记来嵌入 xml 数据时，就在 HTML 文档中形成了一个 XML 数据岛（data island）。数据岛是指存在于 HTML 页面中的 xml 代码

2）HTML 文档 与 XML 文档，都长啥样？

1、HTML 文档

HTML 文档是根据标准的 HTML 规范来**命名元素或者是标签以及属性**等来表示一个文档的，这里的元素或属性作为标准能够**被所有的浏览器认识并且解析**

![HTML 文档](assets/img/2020-11-19-17-13-39.png)

透过`head`和`body`这两个单词，我们就能体会到 HTML 的标签元素是用来**如何布局和显示内容**的！

如`h1`标签，就是用 1 号标题来显示一段文字 -> 总之，这是为了**强调显示的格式**！

还有，我们甚至可以在 HTML 文档里边引入外部的样式，而这样就可以让我们更详细地去定义页面的布局和显示的风格了

对比 XML 文档来看

2、XML 文档

与 HTML 类似的是，XML 也基本由标签、属性和叶子节点（没有儿子的节点）组成的

![XML 文档](assets/img/2020-11-19-17-32-26.png)

与之不同的是，标签名是可以根据数据的语义要求随意地命名的，如要表现出一本书的名字，那就起名为`bookname`，甚至我们还可以使用汉字，如`书籍列表`、`计算机书籍`等等，而这些标签显然是不能够被浏览器所认识的。可以看到，**XML 是用来存放格式化数据的**

> 前端向后端发请求，拿到的数据是`JSON`格式的数据！

---

基于 XML 扩展出来的其它标记语言，如 SVG、VML 等等，如果你对它们感兴趣，那么就去查阅一下它们的相关文档吧！

> 就 SVG 用得上！

## ★DOM 节点类型
